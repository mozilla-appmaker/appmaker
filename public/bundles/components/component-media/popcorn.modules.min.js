(function(a,t){function d(c){c=typeof c==="string"?c:[c.language,c.region].join("-");var i=c.split("-");return{iso6391:c,language:i[0]||"",region:i[1]||""}}var b=a.navigator,f=d(b.userLanguage||b.language);t.locale={get:function(){return f},set:function(c){f=d(c);t.locale.broadcast();return f},broadcast:function(c){var i=t.instances,g=i.length,j=0,m;for(c=c||"locale:changed";j<g;j++){m=i[j];c in m.data.events&&m.trigger(c)}}}})(this,this.Popcorn);(function(a){var t=Object.prototype.hasOwnProperty;a.parsers={};a.parser=function(d,b,f){if(a.protect.natives.indexOf(d.toLowerCase())>=0)a.error("'"+d+"' is a protected function name");else{if(typeof b==="function"&&!f){f=b;b=""}if(!(typeof f!=="function"||typeof b!=="string")){var c={};c[d]=function(i,g,j){if(!i)return this;if(typeof g!=="function"&&!j){j=g;g=null}var m=this;a.xhr({url:i,dataType:b,success:function(n){var p,k,q=0;n=f(n,j).data||[];if(p=n.length){for(;q<p;q++){k=n[q];for(var l in k)t.call(k,
l)&&m[l]&&m[l](k[l])}g&&g()}}});return this};a.extend(a.p,c);return c}}}})(Popcorn);(function(a){document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("[data-timeline-sources]");a.forEach(t,function(d,b){var f=t[b],c,i,g;if(!f.id)f.id=a.guid("__popcorn");if(f.nodeType&&f.nodeType===1){g=a("#"+f.id);c=(f.getAttribute("data-timeline-sources")||"").split(",");c[0]&&a.forEach(c,function(j){i=j.split("!");if(i.length===1){i=j.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split(".");i[0]="parse"+i[1].toUpperCase();i[1]=j}c[0]&&g[i[0]]&&g[i[0]](i[1])});g.autoplay()&&
g.play()}})},false)})(Popcorn);(function(a){var t=function(d,b){d=d||a.nop;b=b||a.nop;return function(){d.apply(this,arguments);b.apply(this,arguments)}};a.player=function(d,b){if(!a[d]){b=b||{};var f=function(c,i,g){g=g||{};var j=new Date/1E3,m=j,n=0,p=0,k=1,q=false,l={},r=typeof c==="string"?a.dom.find(c):c,e={};Object.prototype.__defineGetter__||(e=r||document.createElement("div"));for(var u in r)if(!(u in e))if(typeof r[u]==="object")e[u]=r[u];else if(typeof r[u]==="function")e[u]=function(h){return"length"in r[h]&&!r[h].call?
r[h]:function(){return r[h].apply(r,arguments)}}(u);else a.player.defineProperty(e,u,{get:function(h){return function(){return r[h]}}(u),set:a.nop,configurable:true});var w=function(){j=new Date/1E3;if(!e.paused){e.currentTime+=j-m;e.dispatchEvent("timeupdate");setTimeout(w,10)}m=j};e.play=function(){this.paused=false;if(e.readyState>=4){m=new Date/1E3;e.dispatchEvent("play");w()}};e.pause=function(){this.paused=true;e.dispatchEvent("pause")};a.player.defineProperty(e,"currentTime",{get:function(){return n},
set:function(h){n=+h;e.dispatchEvent("timeupdate");return n},configurable:true});a.player.defineProperty(e,"volume",{get:function(){return k},set:function(h){k=+h;e.dispatchEvent("volumechange");return k},configurable:true});a.player.defineProperty(e,"muted",{get:function(){return q},set:function(h){q=+h;e.dispatchEvent("volumechange");return q},configurable:true});a.player.defineProperty(e,"readyState",{get:function(){return p},set:function(h){return p=h},configurable:true});e.addEventListener=function(h,
s){l[h]||(l[h]=[]);l[h].push(s);return s};e.removeEventListener=function(h,s){var o,v=l[h];if(v){for(o=l[h].length-1;o>=0;o--)s===v[o]&&v.splice(o,1);return s}};e.dispatchEvent=function(h){var s,o=h.type;if(!o){o=h;if(h=a.events.getInterface(o)){s=document.createEvent(h);s.initEvent(o,true,true,window,1)}}if(l[o])for(h=l[o].length-1;h>=0;h--)l[o][h].call(this,s,this)};e.src=i||"";e.duration=0;e.paused=true;e.ended=0;g&&g.events&&a.forEach(g.events,function(h,s){e.addEventListener(s,h,false)});if(b._canPlayType(r.nodeName,
i)!==false)if(b._setup)b._setup.call(e,g);else{e.readyState=4;e.dispatchEvent("loadedmetadata");e.dispatchEvent("loadeddata");e.dispatchEvent("canplaythrough")}else setTimeout(function(){e.dispatchEvent("error")},0);c=new a.p.init(e,g);if(b._teardown)c.destroy=t(c.destroy,function(){b._teardown.call(e,g)});return c};f.canPlayType=b._canPlayType=b._canPlayType||a.nop;a[d]=a.player.registry[d]=f}};a.player.registry={};a.player.defineProperty=Object.defineProperty||function(d,b,f){d.__defineGetter__(b,
f.get||a.nop);d.__defineSetter__(b,f.set||a.nop)};a.player.playerQueue=function(){var d=[],b=false;return{next:function(){b=false;d.shift();d[0]&&d[0]()},add:function(f){d.push(function(){b=true;f&&f()});!b&&d[0]()}}};a.smart=function(d,b,f){var c=typeof d==="string"?a.dom.find(d):d,i,g,j,m,n,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(c){b=typeof b==="string"?[b]:b;d=0;for(n=b.length;d<n;d++){i=b[d];for(g=0;g<p.length;g++)if((m=
a[p[g]])&&m._canPlaySrc(i)==="probably"){j=m(c);f=a(j,f);setTimeout(function(){j.src=i},0);return f}for(var k in a.player.registry)if(a.player.registry.hasOwnProperty(k))if(a.player.registry[k].canPlayType(c.nodeName,i))return a[k](c,i,f)}var q;k=a.guid("popcorn-video-");g=document.createElement("div");g.style.width="100%";g.style.height="100%";if(b.length===1){q=document.createElement("video");q.id=k;c.appendChild(q);setTimeout(function(){var l=document.createElement("div");l.innerHTML=b[0];q.src=
l.firstChild.nodeValue},0);return a("#"+k,f)}c.appendChild(g);p='<video id="'+k+'" preload=auto autobuffer>';d=0;for(n=b.length;d<n;d++)p+='<source src="'+b[d]+'">';p+="</video>";g.innerHTML=p;f&&f.events&&f.events.error&&c.addEventListener("error",f.events.error,false);return a("#"+k,f)}else a.error("Specified target `"+d+"` was not found.")}})(Popcorn);
